var nota=0,respuestasRadio1=[],respuestasRadio2=[],respuestaSelect1=null,respuestaSelect2=null,respuestasCheckbox1=[],respuestasCheckbox2=[],formElement=null,respuestasMultiple1=[],respuestasMultiple2=[],respuestaText1=null,respuestaText2=null;function gestionarXml(e){var t=e.responseXML,n=t.getElementsByTagName("title")[0].innerHTML,a=[],o=t.getElementById("1").getElementsByTagName("option").length;for(i=0;i<o;i++)a[i]=t.getElementById("1").getElementsByTagName("option")[i].innerHTML;datosRadio1(n,a);var r=t.getElementById("1").getElementsByTagName("answer").length;for(i=0;i<r;i++)respuestasRadio1[i]=t.getElementById("1").getElementsByTagName("answer")[i].innerHTML;var l=t.getElementsByTagName("title")[5].innerHTML,s=[],m=t.getElementById("6").getElementsByTagName("option").length;for(i=0;i<m;i++)s[i]=t.getElementById("6").getElementsByTagName("option")[i].innerHTML;datosRadio2(l,s);var u=t.getElementById("6").getElementsByTagName("answer").length;for(i=0;i<u;i++)respuestasRadio2[i]=t.getElementById("6").getElementsByTagName("answer")[i].innerHTML;datosText1(t.getElementsByTagName("title")[1].innerHTML),respuestaText1=String(t.getElementsByTagName("answer")[1].innerHTML),datosText2(t.getElementsByTagName("title")[6].innerHTML),respuestaText2=String(t.getElementsByTagName("answer")[7].innerHTML);var d=t.getElementsByTagName("title")[3].innerHTML,c=[],g=t.getElementById("4").getElementsByTagName("option").length;for(i=0;i<g;i++)c[i]=t.getElementById("4").getElementsByTagName("option")[i].innerHTML;datosSelect1(d,c),respuestaSelect1=parseInt(t.getElementsByTagName("answer")[3].innerHTML);var p=t.getElementsByTagName("title")[8].innerHTML,E=[],T=t.getElementById("9").getElementsByTagName("option").length;for(i=0;i<T;i++)E[i]=t.getElementById("9").getElementsByTagName("option")[i].innerHTML;datosSelect2(p,E),respuestaSelect2=parseInt(t.getElementsByTagName("answer")[11].innerHTML);var f=t.getElementsByTagName("title")[4].innerHTML,y=[],h=t.getElementById("5").getElementsByTagName("option").length,B=t.getElementById("5").getElementsByTagName("answer").length;for(i=0;i<h;i++)y[i]=t.getElementById("5").getElementsByTagName("option")[i].innerHTML;for(datosMultiple1(f,y),i=0;i<B;i++)respuestasMultiple1[i]=t.getElementById("5").getElementsByTagName("answer")[i].innerHTML;var I=t.getElementsByTagName("title")[9].innerHTML,M=[],x=t.getElementById("10").getElementsByTagName("option").length,N=t.getElementById("10").getElementsByTagName("answer").length;for(i=0;i<x;i++)M[i]=t.getElementById("10").getElementsByTagName("option")[i].innerHTML;for(datosMultiple2(I,M),i=0;i<N;i++)respuestasMultiple2[i]=t.getElementById("10").getElementsByTagName("answer")[i].innerHTML;var v=t.getElementsByTagName("title")[2].innerHTML,C=[],R=t.getElementById("3").getElementsByTagName("option").length;for(i=0;i<R;i++)C[i]=t.getElementById("3").getElementsByTagName("option")[i].innerHTML;datosCheckbox1(v,C);var b=t.getElementById("3").getElementsByTagName("answer").length;for(i=0;i<b;i++)respuestasCheckbox1[i]=t.getElementById("3").getElementsByTagName("answer")[i].innerHTML;var H=t.getElementsByTagName("title")[7].innerHTML,L=[],k=t.getElementById("8").getElementsByTagName("option").length;for(i=0;i<k;i++)L[i]=t.getElementById("8").getElementsByTagName("option")[i].innerHTML;datosCheckbox2(H,L);var j=t.getElementById("8").getElementsByTagName("answer").length;for(i=0;i<j;i++)respuestasCheckbox2[i]=t.getElementById("8").getElementsByTagName("answer")[i].innerHTML}function cRadio1(){var e=formElement,t=[];for(i=0;i<e.año.length;i++)if(e.año[i].checked){for(t[i]=!1,j=0;j<respuestasRadio1.length;j++)i==respuestasRadio1[j]&&(t[i]=!0);t[i]?(nota+=2/respuestasRadio1.length,mostrarResultado("Pregunta 1: ¡Correcto!")):(nota-=.33/respuestasRadio1.length,mostrarResultado("Pregunta 1: ¡Incorrecto!"))}}function cRadio2(){var e=formElement,t=[];for(i=0;i<e.verbo.length;i++)if(e.verbo[i].checked){for(t[i]=!1,j=0;j<respuestasRadio2.length;j++)i==respuestasRadio2[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasRadio2.length,mostrarResultado("Pregunta 6: ¡Correcto!")):(nota-=.33/respuestasRadio2.length,mostrarResultado("Pregunta 6: ¡Incorrecto!"))}}function cText1(){document.getElementById("text1").value.toUpperCase()==respuestaText1.toUpperCase()?(mostrarResultado("Pregunta 2: ¡Correcto!"),nota+=1):(mostrarResultado("Pregunta 2: ¡Incorrecto!"),nota-=.33)}function cText2(){document.getElementById("text2").value.toUpperCase()==respuestaText2.toUpperCase()?(mostrarResultado("Pregunta 7: ¡Correcto!"),nota+=1):(mostrarResultado("Pregunta 7: ¡Incorrecto!"),nota-=.33)}function cSelect1(){formElement.elements[9].selectedIndex-1==respuestaSelect1?(mostrarResultado("Pregunta 4: ¡Correcto!"),nota+=1):mostrarResultado("Pregunta 4: ¡Incorrecto!")}function cSelect2(){formElement.elements[19].selectedIndex-1==respuestaSelect2?(mostrarResultado("Pregunta 9: ¡Correcto!"),nota+=1):mostrarResultado("Pregunta 9: ¡Incorrecto!")}function cCheckbox1(){var e=formElement,t=[];for(i=0;i<e.picos.length;i++)if(e.picos[i].checked){for(t[i]=!1,j=0;j<respuestasCheckbox1.length;j++)i==respuestasCheckbox1[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasCheckbox1.length,mostrarResultado("Pregunta 3: "+i+" ¡Correcto!")):(nota-=.33/respuestasCheckbox1.length,mostrarResultado("Pregunta 3: "+i+" ¡Incorrecto!"))}}function cCheckbox2(){var e=formElement,t=[];for(i=0;i<e.meses.length;i++)if(e.meses[i].checked){for(t[i]=!1,j=0;j<respuestasCheckbox2.length;j++)i==respuestasCheckbox2[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasCheckbox2.length,mostrarResultado("Pregunta 8: "+i+" ¡Correcto!")):(nota-=.33/respuestasCheckbox2.length,mostrarResultado("Pregunta 8: "+i+" ¡Incorrecto!"))}}function cMultiple1(){var e=document.getElementsByClassName("opmult1"),t=[];for(i=0;i<e.length;i++)if(e[i].selected){for(t[i]=!1,j=0;j<respuestasMultiple1.length;j++)i==respuestasMultiple1[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasMultiple1.length,mostrarResultado("Pregunta 5:  ¡Correcto!")):(nota-=.33/respuestasMultiple1.length,mostrarResultado("Pregunta 5:  ¡Incorrecto!"))}}function cMultiple2(){var e=document.getElementsByClassName("opmult2"),t=[];for(i=0;i<e.length;i++)if(e[i].selected){for(t[i]=!1,j=0;j<respuestasMultiple2.length;j++)i==respuestasMultiple2[j]&&(t[i]=!0);t[i]?(nota+=1/respuestasMultiple2.length,mostrarResultado("Pregunta 10:  ¡Correcto!")):(nota-=.33/respuestasMultiple2.length,mostrarResultado("Pregunta 10:  ¡Incorrecto!"))}}function datosRadio1(e,t){var n=document.getElementById("radioDiv1");for(document.getElementById("tituloRadio1").innerHTML=e,i=0;i<t.length;i++){var a=document.createElement("input"),o=document.createElement("label");o.innerHTML=t[i],o.setAttribute("for","respuesta_"+i),a.type="radio",a.name="año",a.id="año_"+i,n.appendChild(a),n.appendChild(o),n.appendChild(document.createElement("br"))}}function datosRadio2(e,t){var n=document.getElementById("radioDiv2");for(document.getElementById("tituloRadio2").innerHTML=e,i=0;i<t.length;i++){var a=document.createElement("input"),o=document.createElement("label");o.innerHTML=t[i],o.setAttribute("for","respuesta_"+i),a.type="radio",a.name="verbo",a.id="verbo_"+i,n.appendChild(a),n.appendChild(o),n.appendChild(document.createElement("br"))}}function datosCheckbox1(e,t){var n=document.getElementById("checkboxDiv1");for(document.getElementById("tituloCheckbox1").innerHTML=e,i=0;i<t.length;i++){var a=document.createElement("input"),o=document.createElement("label");o.innerHTML=t[i],o.setAttribute("for","picos_"+i),a.type="checkbox",a.name="picos",a.id="picos_"+i,n.appendChild(a),n.appendChild(o),n.appendChild(document.createElement("br"))}}function datosCheckbox2(e,t){var n=document.getElementById("checkboxDiv2");for(document.getElementById("tituloCheckbox2").innerHTML=e,i=0;i<t.length;i++){var a=document.createElement("input"),o=document.createElement("label");o.innerHTML=t[i],o.setAttribute("for","meses_"+i),a.type="checkbox",a.name="meses",a.id="meses_"+i,n.appendChild(a),n.appendChild(o),n.appendChild(document.createElement("br"))}}function datosSelect1(e,t){document.getElementById("tituloSelect1").innerHTML=e;var n=document.getElementById("select1");for(i=0;i<t.length;i++){var a=document.createElement("option");a.text=t[i],a.value=i+1,n.options.add(a)}}function datosSelect2(e,t){document.getElementById("tituloSelect2").innerHTML=e;var n=document.getElementById("select2");for(i=0;i<t.length;i++){var a=document.createElement("option");a.text=t[i],a.value=i+1,n.options.add(a)}}function datosMultiple1(e,t){document.getElementById("tituloMultiple1").innerHTML=e;var n=document.getElementById("multiple1");for(i=0;i<t.length;i++){var a=document.createElement("option");a.text=t[i],a.value=i+1,a.className="opmult1",n.options.add(a)}}function datosMultiple2(e,t){document.getElementById("tituloMultiple2").innerHTML=e;var n=document.getElementById("multiple2");for(i=0;i<t.length;i++){var a=document.createElement("option");a.text=t[i],a.value=i+1,a.className="opmult2",n.options.add(a)}}function datosText1(e){document.getElementById("tituloText1").innerHTML=e}function datosText2(e){document.getElementById("tituloText2").innerHTML=e}function mostrarResultado(e){var t=document.createElement("p"),n=document.createTextNode(e);t.appendChild(n),document.getElementById("resultados").appendChild(t),document.getElementById("resultados").style.display="block"}function Nota(){mostrarResultado(nota>5?"Nota: "+nota+"¡ERES APTO PARA NUESTRA UNIVERSIDAD!":"Nota: "+nota+"¡HAS SUPENDIDO!")}function inicializar(){document.getElementById("resultados").innerHTML="",nota=0}function comprobar(){var e=formElement,t=!1;for(i=0;i<e.año.length;i++)e.año[i].checked&&(t=!0);if(!t)return document.getElementsByTagName("h3")[0].focus(),alert("Te falta pregunta 1"),!1;if(""==document.getElementById("text1").value)return e.elements[4].focus(),alert("Te falta la pregunta 2"),!1;for(t=!1,i=0;i<e.picos.length;i++)e.picos[i].checked&&(t=!0);if(!t)return document.getElementsByTagName("h3")[2].focus(),alert("Te falta la pregunta 3"),!1;if(0==e.elements[9].selectedIndex)return e.elements[9].focus(),alert("Te falta la pregunta 4"),!1;if(0==e.elements[10].selectedIndex)return e.elements[10].focus(),alert("Te falta la pregunta 5"),!1;for(t=!1,i=0;i<e.verbo.length;i++)e.verbo[i].checked&&(t=!0);if(!t)return document.getElementsByTagName("h3")[5].focus(),alert("Te falta la pregunta 6"),!1;if(""==document.getElementById("text2").value)return e.elements[12].focus(),alert("Te falta la pregunta 7"),!1;for(t=!1,i=0;i<e.meses.length;i++)e.meses[i].checked&&(t=!0);return t?0==e.elements[19].selectedIndex?(e.elements[19].focus(),alert("Te falta la pregunta 9"),!1):0!=e.elements[20].selectedIndex||(e.elements[20].focus(),alert("Te falta la pregunta 10"),!1):(document.getElementsByTagName("h3")[7].focus(),alert("Te falta la pregunta 8"),!1)}window.onload=function(){(formElement=document.getElementById("myForm")).onsubmit=function(){return inicializar(),comprobar()&&(cRadio1(),cText1(),cCheckbox1(),cSelect1(),cMultiple1(),cRadio2(),cText2(),cCheckbox2(),cSelect2(),cMultiple2(),Nota()),!1};var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&gestionarXml(this)},e.open("GET","xml/preguntas.xml",!0),e.send()};
